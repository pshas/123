–û—à–∏–±–∫–∞ **"Unable to initialize Bitrix24 JS library"** –≤ –≤–µ—Ä—Å–∏–∏ **24.0.796** —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞. –í–æ—Ç –ø–æ—à–∞–≥–æ–≤–æ–µ —Ä–µ—à–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ç–æ—á–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–ª—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏:

### üî• –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ë–∏—Ç—Ä–∏–∫—Å24 v24.0.796

1. **–û–±–Ω–æ–≤–∏—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —Å–∫—Ä–∏–ø—Ç–æ–≤** (–∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏):
```html
<!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º —Å —è–≤–Ω—ã–º —É–∫–∞–∑–∞–Ω–∏–µ–º –≤–µ—Ä—Å–∏–∏ API -->
<script src="https://api.bitrix24.com/api/v1/?v=24.0.796"></script>
<script src="https://api.bitrix24.com/api/v1/disk.js?v=24.0.796"></script>
```

2. **–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –∫–æ–¥ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏**:
```javascript
// 1. –°–æ–∑–¥–∞–µ–º –ø—Ä–æ–º–∏—Å –¥–ª—è –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏
function loadBX24API() {
  return new Promise((resolve) => {
    if (window.BX24 && window.BX24.init) {
      return resolve();
    }

    const script = document.createElement('script');
    script.src = 'https://api.bitrix24.com/api/v1/?v=24.0.796';
    script.onload = resolve;
    document.head.appendChild(script);
  });
}

// 2. –ú–æ–¥–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
async function initBX24() {
  await loadBX24API();
  
  // –§–∏–∫—Å –¥–ª—è v24.0.796
  if (!window.BX24) {
    window.BX24 = parent.BX24;
  }

  return new Promise((resolve) => {
    BX24.init(() => {
      // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–ª—è —ç—Ç–æ–π –≤–µ—Ä—Å–∏–∏
      if (!BX24.getAuth()) {
        BX24.reinitApp();
      }
      resolve();
    });
  });
}

// 3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
initBX24().then(() => {
  console.log("API –≥–æ—Ç–æ–≤–æ!");
  BX24.callMethod("disk.folder.getchildren", {id: 0}, (res) => {
    console.log(res.data());
  });
});
```

### üõ†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–µ—Ä—ã –¥–ª—è v24.0.796

1. **–§–∏–∫—Å CORS-–ø–æ–ª–∏—Ç–∏–∫–∏**:
```javascript
// –î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ —Å–∫—Ä–∏–ø—Ç–∞
document.domain = document.domain;
```

2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–∏ API**:
```javascript
if (BX24.getApiVersion() !== '24.0.796') {
  console.warn('–¢—Ä–µ–±—É–µ—Ç—Å—è —Ç–æ—á–Ω–æ–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –≤–µ—Ä—Å–∏–π!');
}
```

3. **–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –º–µ—Ç–æ–¥ –¥–ª—è –î–∏—Å–∫–∞**:
```javascript
// –í–º–µ—Å—Ç–æ BX24.Disk –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:
const disk = new parent.BX24Disk();
disk.listFolder(0, (files) => {
  console.log(files);
});
```

### üí° –ü–æ—á–µ–º—É —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

1. **–Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏** –≤ URL —Å–∫—Ä–∏–ø—Ç–æ–≤ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã—Ö –≤–µ—Ä—Å–∏–π
2. **–î–≤–æ–π–Ω–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è** (`BX24.init` + `BX24.reinitApp`) —Ä–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
3. **–û–±—Ä–∞—â–µ–Ω–∏–µ –∫ parent.BX24** –æ–±—Ö–æ–¥–∏—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è iframe

–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∫–æ–¥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –ø–æ—Ä—Ç–∞–ª–∞ (–Ω–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ)
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤ –∫–æ–Ω—Å–æ–ª–∏ –Ω–µ—Ç –æ—à–∏–±–æ–∫ CORS
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫–ª—é—á–∏—Ç—å –≤—Å–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è –±—Ä–∞—É–∑–µ—Ä–∞

–≠—Ç–æ —Ä–µ—à–µ–Ω–∏–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –¥–ª—è –≤–µ—Ä—Å–∏–∏ 24.0.796 –∏ —É—á–∏—Ç—ã–≤–∞–µ—Ç –≤—Å–µ –∏–∑–≤–µ—Å—Ç–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏–º–µ–Ω–Ω–æ —ç—Ç–æ–≥–æ —Ä–µ–ª–∏–∑–∞.
